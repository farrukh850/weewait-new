document.addEventListener("DOMContentLoaded",function(){console.log("Terms popup script loaded");const c=document.querySelector(".terms-link"),t=document.getElementById("terms-popup-overlay"),l=document.querySelector(".popup-content"),i=document.getElementById("close-popup"),o=document.getElementById("continue-btn"),r=document.querySelector(".popup-content button.flex-1"),n=document.querySelector(".bg-terms_popup");console.log("Terms link:",c),console.log("Popup overlay:",t),console.log("Popup content:",l),console.log("Close button:",i),console.log("Continue button:",o),o&&(o.disabled=!0,o.classList.add("opacity-50","cursor-not-allowed"));const d=()=>{n&&n.scrollHeight-n.scrollTop<=n.clientHeight+5&&o&&(o.disabled=!1,o.classList.remove("opacity-50","cursor-not-allowed"),n.removeEventListener("scroll",d))};n&&n.addEventListener("scroll",d),c?c.addEventListener("click",function(e){console.log("Terms link clicked"),e.preventDefault(),t.classList.remove("hidden"),setTimeout(()=>{t.classList.add("opacity-100"),l.classList.add("opacity-100","translate-y-0")},10),document.body.classList.add("overflow-hidden")}):console.error("Terms link not found!");const s=()=>{console.log("Closing popup"),t.classList.remove("opacity-100"),l?l.classList.remove("opacity-100","translate-y-0"):console.error("Popup content element not found"),setTimeout(()=>{t.classList.add("hidden"),document.body.classList.remove("overflow-hidden")},300)};i?i.addEventListener("click",function(e){console.log("Close button clicked"),e.preventDefault(),s()}):console.error("Close button not found!"),r&&r.addEventListener("click",function(e){console.log("Close button clicked"),e.preventDefault(),s()}),o?o.addEventListener("click",function(e){console.log("Continue button clicked"),e.preventDefault(),this.disabled||s()}):console.error("Continue button not found!"),t?t.addEventListener("click",function(e){e.target===t&&(console.log("Clicked outside popup"),s())}):console.error("Popup overlay not found!")});
