import"./input-B5Qt9EMX.js";import"./password-DM3L-Xa5.js";document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("drop-area"),m=document.getElementById("file-input"),c=document.getElementById("file-preview"),f=document.getElementById("add-photo-text"),h=document.querySelectorAll(".sample-photo"),r=document.querySelector(".photo-grid");let a=0;const i=6;["dragenter","dragover","dragleave","drop"].forEach(e=>{t.addEventListener(e,L,!1)});function L(e){e.preventDefault(),e.stopPropagation()}["dragenter","dragover"].forEach(e=>{t.addEventListener(e,b,!1)}),["dragleave","drop"].forEach(e=>{t.addEventListener(e,E,!1)});function b(){t.classList.add("border-accent_skyblue"),t.classList.remove("border-accent")}function E(){t.classList.remove("border-accent_skyblue"),t.classList.add("border-accent")}t.addEventListener("drop",w,!1);function w(e){const o=e.dataTransfer.files;g(o)}m.addEventListener("change",function(){g(this.files)});function g(e){const n=Array.from(e);if(a+n.length>i){alert(`You can only upload up to ${i} photos. You've already uploaded ${a}.`);return}r&&(r.innerHTML=""),n.forEach(o=>{C(o)&&(a++,I(o))}),d()}function C(e){if(!["image/jpeg","image/png","image/jpg"].includes(e.type))return alert("Only JPEG and PNG images are allowed."),!1;const o=2*1024*1024;return e.size>o?(alert("File size must be less than 2MB."),!1):!0}function I(e){const n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){if(r){const o=a===1;v(n.result,o)}else y(n.result)}}function v(e,n=!1){const o=document.createElement("div");o.className="col-span-1 w-full rounded-lg h-40 relative group";const s=document.createElement("img");s.src=e,s.className="w-full h-full object-cover rounded-lg",s.alt="Uploaded Image";const u=document.createElement("button");if(u.className="absolute bottom-2 right-2 bg-white rounded-full p-1.5 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",u.innerHTML='<img src="/images/delete.svg" alt="Delete">',u.addEventListener("click",function(l){l.preventDefault(),l.stopPropagation();const P=o.querySelector(".cover-photo-label");if(o.remove(),a--,P&&r.children.length>0){const x=r.children[0];if(!x.querySelector(".cover-photo-label")){const p=document.createElement("div");p.className="cover-photo-label absolute -top-2.5 left-1/2 -translate-x-1/2 w-20 h-6 flex items-center justify-center rounded-full text-xs text-white bg-black",p.textContent="Cover Photo",x.appendChild(p)}}d()}),o.appendChild(s),o.appendChild(u),n||r.children.length===0){const l=document.createElement("div");l.className="cover-photo-label absolute -top-2.5 left-1/2 -translate-x-1/2 w-20 h-6 flex items-center justify-center rounded-full text-xs text-white bg-black",l.textContent="Cover Photo",o.appendChild(l)}r.appendChild(o)}function y(e){const n=document.createElement("div");n.className="relative group";const o=document.createElement("img");o.src=e,o.className="w-32 h-32 object-cover rounded-xl",n.appendChild(o);const s=document.createElement("button");s.className="absolute bottom-2 right-2 bg-white rounded-full p-1 shadow-md opacity-0 group-hover:opacity-100 transition-opacity",s.innerHTML='<img src="/images/delete.svg" alt="Delete">',s.addEventListener("click",function(){n.remove(),a--,d()}),n.appendChild(s),c.appendChild(n)}h&&h.forEach(e=>{e.addEventListener("click",function(){const n=this.querySelector("img").src;if(a===0&&r&&(r.innerHTML=""),a>=i){alert(`You can only upload up to ${i} photos.`);return}r?v(n,a===0):y(n),a++,d()})});function d(){if(a>0)if(c&&c.classList.remove("hidden"),a>=i){t.classList.add("opacity-50"),t.classList.add("cursor-not-allowed");const e=t.querySelector("p.text-xs")||t.querySelector("p.text-sm");e&&(e.textContent="Maximum number of photos reached")}else{t.classList.remove("opacity-50"),t.classList.remove("cursor-not-allowed");const e=t.querySelector("p.text-xs")||t.querySelector("p.text-sm");e&&(e.textContent=`Upload up to ${i} photos (JPEG or PNG). Max size per image: 2MB`)}else{c&&c.classList.add("hidden"),f&&f.classList.remove("hidden"),t.classList.remove("opacity-50"),t.classList.remove("cursor-not-allowed");const e=t.querySelector("p.text-xs")||t.querySelector("p.text-sm");e&&(e.textContent=`Upload up to ${i} photos (JPEG or PNG). Max size per image: 2MB`)}}t.addEventListener("click",function(){a<i&&m.click()})});
